---
title: '代碼高亮示範 - Shiki 增強版'
description: '展示 Shiki 語法高亮與自定義複製按鈕功能'
author: 'Ian Chou'
publishDate: 2025-05-25
tags: ['JavaScript', 'Syntax Highlighting', 'Shiki']
featured: true
category: '教學'
readingTime: 10
coverImage: '/images/blog/code-highlighting-cover.webp'
draft: false
---

import { CodeBlock, AdvancedCodeBlock } from '../../components/MDXComponents';
import TypeScriptDemo from '../../components/blog/demos/TypeScriptDemo';
import ReactHookDemo from '../../components/blog/demos/ReactHookDemo';
import BashDemo from '../../components/blog/demos/BashDemo';
import JsonDemo from '../../components/blog/demos/JsonDemo';

# 代碼高亮示範

這篇文章展示了我們新的代碼高亮功能，使用 **Shiki** 內建語法高亮器，並添加了自定義**複製按鈕**功能！

## 基本語法高亮

使用標準的 Markdown 代碼區塊語法，現在會自動應用語法高亮：

```javascript
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}

console.log(fibonacci(10)); // 55
```

```python
def quick_sort(arr):
    if len(arr) <= 1:
        return arr
    
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    
    return quick_sort(left) + middle + quick_sort(right)
```

```css
.gradient-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.gradient-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
```

## 進階代碼區塊組件

### TypeScript API 示例

<TypeScriptDemo />

### React Hook 示例

<ReactHookDemo />

### Bash 命令示例

<BashDemo />

### JSON 配置示例

<JsonDemo />

## Shiki 的特色功能

### ✨ **內建語法高亮**
- 使用 VS Code 原生主題
- 構建時生成，性能優異
- 支援大量程式語言

### 📋 **自定義複製按鈕**
- 一鍵複製代碼內容
- 複製成功視覺反饋
- 錯誤處理提示

### 🏷️ **語言標籤**
- 自動顯示程式語言
- 半透明設計
- 位於代碼區塊左上角

### 🎨 **美觀設計**
- GitHub 風格配色
- 半透明按鈕
- 懸停效果動畫

## 支援的程式語言

Shiki 支援多種程式語言，包括：

- **JavaScript** / **TypeScript**
- **Python** / **Java** / **C++**
- **HTML** / **CSS** / **SCSS**
- **React** / **Vue** / **Svelte**
- **Bash** / **PowerShell**
- **JSON** / **YAML** / **XML**
- **SQL** / **GraphQL**
- **Go** / **Rust** / **PHP**

## 如何使用

### 方法一：標準 Markdown 語法

只需要使用標準的三個反引號語法：

```text
```javascript
function hello() {
  console.log("Hello World!");
}
```
```

### 方法二：使用自定義組件

當你需要更多功能時，可以使用我們的自定義組件：

```text
<CodeBlock 
  language="javascript" 
  filename="app.js"
  showLineNumbers={true}
>
  // 你的代碼內容
</CodeBlock>
```

### 方法三：進階組件

提供更多自定義選項：

```text
<AdvancedCodeBlock 
  language="javascript" 
  title="我的應用程式"
  theme="dracula"
  showLineNumbers={true}
  highlightLines={[2, 5, 8]}
>
  // 你的代碼內容
</AdvancedCodeBlock>
```

## 技術實現

我們的代碼高亮解決方案結合了：

1. **Astro 內建 Shiki** - 負責語法高亮渲染
2. **自定義 JavaScript** - 添加複製按鈕功能
3. **CSS 動畫** - 提供流暢的互動體驗
4. **React 組件** - 供進階用途使用

## 瀏覽器兼容性

- ✅ **Chrome** 66+
- ✅ **Firefox** 63+
- ✅ **Safari** 13.1+
- ✅ **Edge** 79+

需要 `navigator.clipboard` API 支援才能使用複製功能。

## 總結

現在你的代碼區塊擁有：

- 🎨 **美麗的語法高亮**
- 📋 **便利的複製功能**
- 🏷️ **清晰的語言標識**
- ⚡ **優異的性能表現**
- 📱 **響應式設計**

享受更專業的代碼展示體驗吧！🎉
